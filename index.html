<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@500&display=swap" rel="stylesheet">
<link href="styleMain.css" rel="stylesheet">
<title>P07b</title>
<style>

</style>
</head>
<body onload="domainToIPv4(), positionContent()">
<header>
  <img src="Sources/Images/logo_darkMode.png" alt="Logo">
  <nav>
    <a href="">Server</a>
    <a href="memes.html">Memes</a>
    <a href="info.html">Info</a>
  </nav>
</header>
<main>
  <img class="indexBanner" id="indexBanner" src="Sources/Images/indexBanner.jpg">
  <div class="container" id="contentContainer">
    <div class="flexContainer">
      <div class="ipGrabber">
        <h1>IPv4 des Minecraft-Servers:</h1>
        <div id="ipv4Output"></div>
        <button id="copyButton">IPv4 kopieren</button>
      </div>
      <article class="indexArticle">
        <h1>Minecraft Server:</h1>
        <p>Der Server ist unter der Adresse mc.p07b.de oder der oben zu findenden IPv4 zu erreichen. Am Spawn befindet sich eine geschützte Insel, welche als Schutzzone dient. Auf dieser Insel ist es durch das Drücken von <italic>'F'</italic> eine temporäre Elytra, sowie einen Boost zu bekommen, um die Insel zu verlassen. Allerdings brauchen wir, um euch whitelisten zu können euren ingame Nickname. Auf dem Discord befindet sich im Kanal #minecraft ein Thread "whitelist". Dort können Nicknames geposted werden, die auf die Whitelist aufgenommen werden sollen.</p>
      </article>
    </div>
  </div>  
</main>
</body>
<script>
  function positionContent() {
    const bannerHeight = document.getElementById("indexBanner").clientHeight;
    document.getElementById("contentContainer").style.top = bannerHeight;
    return bannerHeight;
  }
    
</script>
<script>
  function domainToIPv4() {
    var domain = "t5kalqyeksyh1ywy.myfritz.net";
    var dohUrl = 'https://dns.google/resolve?name=' + domain + '&type=A';

    fetch(dohUrl)
    .then(response => response.json())
    .then(data => {
      if (data.Answer && data.Answer.length > 0) {
        var ipv4Address = data.Answer[0].data + ":25565";
        document.getElementById("ipv4Output").textContent = 'IPv4-Adresse: ' + ipv4Address;
        document.getElementById("copyButton").addEventListener("click", function() {
          copyToClipboard(ipv4Address);
        });
      } else {
        document.getElementById("ipv4Output").textContent = 'IPv4-Adresse nicht gefunden';
      }
    })
    .catch(err => {
      console.error(err);
      document.getElementById("ipv4Output").textContent = 'Fehler beim Abrufen der IPv4-Adresse';
    });
  }

  function copyToClipboard(text) {
    var dummy = document.createElement("textarea");
    document.body.appendChild(dummy);
    dummy.value = text;
    dummy.select();
    document.execCommand("copy");
    document.body.removeChild(dummy);
    alert("IPv4 wurde in die Zwischenablage kopiert: ");
  }
</script>
</html>
